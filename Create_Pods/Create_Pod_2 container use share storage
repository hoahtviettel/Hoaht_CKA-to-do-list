#1. Push to Pod2container_sharevolume.yaml file
apiVersion: v1
kind: Pod
metadata:
  name: pod2
  namespace: question4
spec:
  containers:
  - name: c1
    image: busybox:1.31.1
    command: ["sh", "-c", "while true; do date >> /vol/date.log; sleep 5; done"]
    volumeMounts:
    - name: vol
      mountPath: /vol
  - name: c2
    image: busybox:1.31.1
    command: ["tail", "-f", "/vol/date.log"]
    volumeMounts:
    - name: vol
      mountPath: /vol
  volumes:
  - name: vol
    emptyDir: {}
#2. Create new pod
kubectl apply -f Pod2container_sharevolume.yaml
#3. Check the status of the pod after created
kubectl get pod -n question4
#4. Check to make sure container: c2 use share storage
kubectl logs pod2 -c c2 -n default
#5. Kiểm tra file của container: C1 để crosscheck
kubectl exec -it pod2 -c c1 -n default -- sh
cat /data/data.log
exit
